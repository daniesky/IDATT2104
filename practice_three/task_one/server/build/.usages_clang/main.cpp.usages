22 serialization::archive 18 0 0 0 0 40 /home/daniesky/CPPprojects/client_server 46 /home/daniesky/CPPprojects/client_server/build 0 0 820 0 0 0 1 # 1 1 1 2 18446744073709551615 7 include 1 2 1 9 18446744073709551615 1 < 1 10 1 11 18446744073709551615 8 iostream 1 11 1 19 18446744073709551615 1 > 1 19 1 20 18446744073709551615 1 # 2 1 2 2 18446744073709551615 7 include 2 2 2 9 18446744073709551615 1 < 2 10 2 11 18446744073709551615 7 netinet 2 11 2 18 18446744073709551615 1 / 2 18 2 19 18446744073709551615 2 in 2 19 2 21 18446744073709551615 1 . 2 21 2 22 18446744073709551615 1 h 2 22 2 23 18446744073709551615 1 > 2 23 2 24 18446744073709551615 1 # 3 1 3 2 18446744073709551615 7 include 3 2 3 9 18446744073709551615 1 < 3 10 3 11 18446744073709551615 7 pthread 3 11 3 18 18446744073709551615 1 . 3 18 3 19 18446744073709551615 1 h 3 19 3 20 18446744073709551615 1 > 3 20 3 21 18446744073709551615 1 # 4 1 4 2 18446744073709551615 7 include 4 2 4 9 18446744073709551615 1 < 4 10 4 11 18446744073709551615 5 stdio 4 11 4 16 18446744073709551615 1 . 4 16 4 17 18446744073709551615 1 h 4 17 4 18 18446744073709551615 1 > 4 18 4 19 18446744073709551615 1 # 5 1 5 2 18446744073709551615 7 include 5 2 5 9 18446744073709551615 1 < 5 10 5 11 18446744073709551615 6 stdlib 5 11 5 17 18446744073709551615 1 . 5 17 5 18 18446744073709551615 1 h 5 18 5 19 18446744073709551615 1 > 5 19 5 20 18446744073709551615 1 # 6 1 6 2 18446744073709551615 7 include 6 2 6 9 18446744073709551615 1 < 6 10 6 11 18446744073709551615 6 string 6 11 6 17 18446744073709551615 1 . 6 17 6 18 18446744073709551615 1 h 6 18 6 19 18446744073709551615 1 > 6 19 6 20 18446744073709551615 1 # 7 1 7 2 18446744073709551615 7 include 7 2 7 9 18446744073709551615 1 < 7 10 7 11 18446744073709551615 6 string 7 11 7 17 18446744073709551615 1 > 7 17 7 18 18446744073709551615 1 # 8 1 8 2 18446744073709551615 7 include 8 2 8 9 18446744073709551615 1 < 8 10 8 11 18446744073709551615 3 sys 8 11 8 14 18446744073709551615 1 / 8 14 8 15 18446744073709551615 6 socket 8 15 8 21 18446744073709551615 1 . 8 21 8 22 18446744073709551615 1 h 8 22 8 23 18446744073709551615 1 > 8 23 8 24 18446744073709551615 1 # 9 1 9 2 18446744073709551615 7 include 9 2 9 9 18446744073709551615 1 < 9 10 9 11 18446744073709551615 6 thread 9 11 9 17 18446744073709551615 1 > 9 17 9 18 18446744073709551615 1 # 10 1 10 2 18446744073709551615 7 include 10 2 10 9 18446744073709551615 1 < 10 10 10 11 18446744073709551615 6 unistd 10 11 10 17 18446744073709551615 1 . 10 17 10 18 18446744073709551615 1 h 10 18 10 19 18446744073709551615 1 > 10 19 10 20 18446744073709551615 5 using 12 1 12 6 18446744073709551615 9 namespace 12 7 12 16 18446744073709551615 3 std 12 17 12 20 0 1 ; 12 20 12 21 18446744073709551615 5 class 14 1 14 6 18446744073709551615 6 Server 14 7 14 13 1 1 { 14 14 14 15 18446744073709551615 6 public 15 1 15 7 18446744073709551615 1 : 15 7 15 8 18446744073709551615 6 struct 16 3 16 9 18446744073709551615 11 sockaddr_in 16 10 16 21 2 7 address 16 22 16 29 3 1 ; 16 29 16 30 18446744073709551615 3 int 17 3 17 6 18446744073709551615 13 server_socket 17 7 17 20 4 1 ; 17 20 17 21 18446744073709551615 3 int 18 3 18 6 18446744073709551615 3 opt 18 7 18 10 5 1 = 18 11 18 12 18446744073709551615 1 1 18 13 18 14 18446744073709551615 1 ; 18 14 18 15 18446744073709551615 3 int 19 3 19 6 18446744073709551615 7 addrlen 19 7 19 14 6 1 = 19 15 19 16 18446744073709551615 6 sizeof 19 17 19 23 18446744073709551615 1 ( 19 23 19 24 18446744073709551615 7 address 19 24 19 31 3 1 ) 19 31 19 32 18446744073709551615 1 ; 19 32 19 33 18446744073709551615 3 int 21 3 21 6 18446744073709551615 5 start 21 7 21 12 7 1 ( 21 12 21 13 7 1 ) 21 13 21 14 7 1 { 21 15 21 16 18446744073709551615 2 if 22 5 22 7 18446744073709551615 1 ( 22 8 22 9 18446744073709551615 1 ( 22 9 22 10 18446744073709551615 13 server_socket 22 10 22 23 4 1 = 22 24 22 25 18446744073709551615 6 socket 22 26 22 32 8 1 ( 22 32 22 33 8 7 AF_INET 22 33 22 40 8 1 , 22 40 22 41 8 11 SOCK_STREAM 22 42 22 53 8 1 , 22 53 22 54 8 1 0 22 55 22 56 18446744073709551615 1 ) 22 56 22 57 8 1 ) 22 57 22 58 18446744073709551615 1 < 22 59 22 60 18446744073709551615 1 0 22 61 22 62 18446744073709551615 1 ) 22 62 22 63 18446744073709551615 1 { 22 64 22 65 18446744073709551615 6 perror 23 7 23 13 9 1 ( 23 13 23 14 9 15 "socket failed" 23 14 23 29 18446744073709551615 1 ) 23 29 23 30 9 1 ; 23 30 23 31 18446744073709551615 4 exit 24 7 24 11 10 1 ( 24 11 24 12 10 12 EXIT_FAILURE 24 12 24 24 10 1 ) 24 24 24 25 10 1 ; 24 25 24 26 18446744073709551615 1 } 25 5 25 6 18446744073709551615 2 if 26 5 26 7 18446744073709551615 1 ( 26 8 26 9 18446744073709551615 10 setsockopt 26 9 26 19 11 1 ( 26 19 26 20 11 13 server_socket 26 20 26 33 4 1 , 26 33 26 34 11 10 SOL_SOCKET 26 35 26 45 11 1 , 26 45 26 46 11 12 SO_REUSEADDR 27 20 27 32 11 1 | 27 33 27 34 18446744073709551615 12 SO_REUSEPORT 27 35 27 47 18446744073709551615 1 , 27 47 27 48 11 1 & 27 49 27 50 18446744073709551615 3 opt 27 50 27 53 5 1 , 27 53 27 54 11 6 sizeof 28 20 28 26 18446744073709551615 1 ( 28 26 28 27 18446744073709551615 3 opt 28 27 28 30 5 1 ) 28 30 28 31 18446744073709551615 1 ) 28 31 28 32 11 1 ) 28 32 28 33 18446744073709551615 1 { 28 34 28 35 18446744073709551615 6 perror 29 7 29 13 9 1 ( 29 13 29 14 9 12 "setsockopt" 29 14 29 26 18446744073709551615 1 ) 29 26 29 27 9 1 ; 29 27 29 28 18446744073709551615 4 exit 30 7 30 11 10 1 ( 30 11 30 12 10 12 EXIT_FAILURE 30 12 30 24 10 1 ) 30 24 30 25 10 1 ; 30 25 30 26 18446744073709551615 1 } 31 5 31 6 18446744073709551615 7 address 32 5 32 12 3 1 . 32 12 32 13 18446744073709551615 10 sin_family 32 13 32 23 12 1 = 32 24 32 25 18446744073709551615 7 AF_INET 32 26 32 33 18446744073709551615 1 ; 32 33 32 34 18446744073709551615 7 address 33 5 33 12 3 1 . 33 12 33 13 18446744073709551615 8 sin_addr 33 13 33 21 13 1 . 33 21 33 22 18446744073709551615 6 s_addr 33 22 33 28 14 1 = 33 29 33 30 18446744073709551615 10 INADDR_ANY 33 31 33 41 18446744073709551615 1 ; 33 41 33 42 18446744073709551615 7 address 34 5 34 12 3 1 . 34 12 34 13 18446744073709551615 8 sin_port 34 13 34 21 15 1 = 34 22 34 23 18446744073709551615 5 htons 34 24 34 29 16 1 ( 34 29 34 30 16 4 8080 34 30 34 34 18446744073709551615 1 ) 34 34 34 35 16 1 ; 34 35 34 36 18446744073709551615 2 if 36 5 36 7 18446744073709551615 1 ( 36 8 36 9 18446744073709551615 4 bind 36 9 36 13 17 1 ( 36 13 36 14 17 13 server_socket 36 14 36 27 4 1 , 36 27 36 28 17 1 ( 36 29 36 30 18446744073709551615 6 struct 36 30 36 36 18446744073709551615 8 sockaddr 36 37 36 45 18 1 * 36 46 36 47 18446744073709551615 1 ) 36 47 36 48 18446744073709551615 1 & 36 48 36 49 18446744073709551615 7 address 36 49 36 56 3 1 , 36 56 36 57 17 6 sizeof 36 58 36 64 18446744073709551615 1 ( 36 64 36 65 18446744073709551615 7 address 36 65 36 72 3 1 ) 36 72 36 73 18446744073709551615 1 ) 36 73 36 74 17 1 < 36 75 36 76 18446744073709551615 1 0 36 77 36 78 18446744073709551615 1 ) 36 78 36 79 18446744073709551615 1 { 36 80 36 81 18446744073709551615 6 perror 37 7 37 13 9 1 ( 37 13 37 14 9 20 "socket bind failed" 37 14 37 34 18446744073709551615 1 ) 37 34 37 35 9 1 ; 37 35 37 36 18446744073709551615 4 exit 38 7 38 11 10 1 ( 38 11 38 12 10 12 EXIT_FAILURE 38 12 38 24 10 1 ) 38 24 38 25 10 1 ; 38 25 38 26 18446744073709551615 1 } 39 5 39 6 18446744073709551615 5 while 41 5 41 10 18446744073709551615 1 ( 41 11 41 12 18446744073709551615 1 1 41 12 41 13 18446744073709551615 1 ) 41 13 41 14 18446744073709551615 1 { 41 15 41 16 18446744073709551615 3 int 42 7 42 10 18446744073709551615 9 newsocket 42 11 42 20 19 1 = 42 21 42 22 18446744073709551615 1 1 42 23 42 24 18446744073709551615 1 ; 42 24 42 25 18446744073709551615 6 struct 43 7 43 13 18446744073709551615 11 sockaddr_in 43 14 43 25 2 10 newaddress 43 26 43 36 20 1 ; 43 36 43 37 18446744073709551615 3 int 44 7 44 10 18446744073709551615 6 newlen 44 11 44 17 21 1 = 44 18 44 19 18446744073709551615 6 sizeof 44 20 44 26 18446744073709551615 1 ( 44 26 44 27 18446744073709551615 10 newaddress 44 27 44 37 20 1 ) 44 37 44 38 18446744073709551615 1 ; 44 38 44 39 18446744073709551615 2 if 46 7 46 9 18446744073709551615 1 ( 46 10 46 11 18446744073709551615 6 listen 46 11 46 17 22 1 ( 46 17 46 18 22 13 server_socket 46 18 46 31 4 1 , 46 31 46 32 22 1 3 46 33 46 34 18446744073709551615 1 ) 46 34 46 35 22 1 < 46 36 46 37 18446744073709551615 1 0 46 38 46 39 18446744073709551615 1 ) 46 39 46 40 18446744073709551615 1 { 46 41 46 42 18446744073709551615 6 perror 47 9 47 15 9 1 ( 47 15 47 16 9 30 "listen for connection failed" 47 16 47 46 18446744073709551615 1 ) 47 46 47 47 9 1 ; 47 47 47 48 18446744073709551615 4 exit 48 9 48 13 10 1 ( 48 13 48 14 10 12 EXIT_FAILURE 48 14 48 26 10 1 ) 48 26 48 27 10 1 ; 48 27 48 28 18446744073709551615 1 } 49 7 49 8 18446744073709551615 2 if 51 7 51 9 18446744073709551615 1 ( 51 10 51 11 18446744073709551615 1 ( 51 11 51 12 18446744073709551615 9 newsocket 51 12 51 21 19 1 = 51 22 51 23 18446744073709551615 6 accept 51 24 51 30 23 1 ( 51 30 51 31 23 13 server_socket 51 31 51 44 4 1 , 51 44 51 45 23 1 ( 51 46 51 47 18446744073709551615 6 struct 51 47 51 53 18446744073709551615 8 sockaddr 51 54 51 62 18 1 * 51 63 51 64 18446744073709551615 1 ) 51 64 51 65 18446744073709551615 1 & 51 65 51 66 18446744073709551615 10 newaddress 51 66 51 76 20 1 , 51 76 51 77 23 1 ( 51 78 51 79 18446744073709551615 9 socklen_t 51 79 51 88 24 1 * 51 89 51 90 18446744073709551615 1 ) 51 90 51 91 18446744073709551615 1 & 51 91 51 92 18446744073709551615 6 newlen 51 92 51 98 21 1 ) 51 98 51 99 23 1 ) 51 99 51 100 18446744073709551615 1 < 51 101 51 102 18446744073709551615 1 0 51 103 51 104 18446744073709551615 1 ) 51 104 51 105 18446744073709551615 1 { 51 106 51 107 18446744073709551615 6 perror 52 9 52 15 9 1 ( 52 15 52 16 9 26 "accept connection failed" 52 16 52 42 18446744073709551615 1 ) 52 42 52 43 9 1 ; 52 43 52 44 18446744073709551615 4 exit 53 9 53 13 10 1 ( 53 13 53 14 10 12 EXIT_FAILURE 53 14 53 26 10 1 ) 53 26 53 27 10 1 ; 53 27 53 28 18446744073709551615 1 } 54 7 54 8 18446744073709551615 6 thread 56 7 56 13 25 1 t 56 14 56 15 26 1 ( 56 15 56 16 25 1 & 56 16 56 17 18446744073709551615 6 Server 56 17 56 23 1 2 :: 56 23 56 25 27 16 handleConnection 56 25 56 41 27 1 , 56 41 56 42 25 4 this 56 43 56 47 18446744073709551615 1 , 56 47 56 48 25 9 newsocket 56 49 56 58 19 1 ) 56 58 56 59 25 1 ; 56 59 56 60 18446744073709551615 1 t 57 7 57 8 26 1 . 57 8 57 9 28 6 detach 57 9 57 15 28 1 ( 57 15 57 16 28 1 ) 57 16 57 17 28 1 ; 57 17 57 18 18446744073709551615 1 } 58 5 58 6 18446744073709551615 1 } 59 3 59 4 18446744073709551615 4 void 61 3 61 7 18446744073709551615 16 handleConnection 61 8 61 24 27 1 ( 61 24 61 25 27 3 int 61 25 61 28 18446744073709551615 8 socketid 61 29 61 37 29 1 ) 61 37 61 38 27 1 { 61 39 61 40 18446744073709551615 4 char 62 5 62 9 18446744073709551615 6 buffer 62 10 62 16 30 1 [ 62 16 62 17 18446744073709551615 4 1024 62 17 62 21 18446744073709551615 1 ] 62 21 62 22 18446744073709551615 1 ; 62 22 62 23 18446744073709551615 6 string 64 5 64 11 31 7 message 64 12 64 19 32 1 = 64 20 64 21 18446744073709551615 13 "Socket open" 64 22 64 35 18446744073709551615 1 ; 64 35 64 36 18446744073709551615 3 int 65 5 65 8 18446744073709551615 4 sent 65 9 65 13 33 1 = 65 14 65 15 18446744073709551615 10 sendOutput 65 16 65 26 34 1 ( 65 26 65 27 34 7 message 65 27 65 34 32 1 , 65 34 65 35 34 8 socketid 65 36 65 44 29 1 ) 65 44 65 45 34 1 ; 65 45 65 46 18446744073709551615 4 cout 66 5 66 9 35 2 << 66 10 66 12 36 9 readInput 66 13 66 22 37 1 ( 66 22 66 23 37 8 socketid 66 23 66 31 29 1 , 66 31 66 32 37 6 buffer 66 33 66 39 30 1 ) 66 39 66 40 37 2 << 66 41 66 43 38 4 endl 66 44 66 48 39 1 ; 66 48 66 49 18446744073709551615 5 while 68 5 68 10 18446744073709551615 1 ( 68 11 68 12 18446744073709551615 4 true 68 12 68 16 18446744073709551615 1 ) 68 16 68 17 18446744073709551615 1 { 68 18 68 19 18446744073709551615 7 message 70 7 70 14 32 1 = 70 15 70 16 40 24 "Input the first number" 70 17 70 41 18446744073709551615 1 ; 70 41 70 42 18446744073709551615 4 sent 71 7 71 11 33 1 = 71 12 71 13 18446744073709551615 10 sendOutput 71 14 71 24 34 1 ( 71 24 71 25 34 7 message 71 25 71 32 32 1 , 71 32 71 33 34 8 socketid 71 34 71 42 29 1 ) 71 42 71 43 34 1 ; 71 43 71 44 18446744073709551615 3 int 73 7 73 10 18446744073709551615 6 numone 73 11 73 17 41 1 = 73 18 73 19 18446744073709551615 7 readInt 73 20 73 27 42 1 ( 73 27 73 28 42 8 socketid 73 28 73 36 29 1 , 73 36 73 37 42 6 buffer 73 38 73 44 30 1 ) 73 44 73 45 42 1 ; 73 45 73 46 18446744073709551615 4 cout 74 7 74 11 35 2 << 74 12 74 14 38 6 numone 74 15 74 21 41 2 << 74 22 74 24 38 4 endl 74 25 74 29 39 1 ; 74 29 74 30 18446744073709551615 7 message 76 7 76 14 32 1 = 76 15 76 16 40 25 "Input the second number" 76 17 76 42 18446744073709551615 1 ; 76 42 76 43 18446744073709551615 4 sent 77 7 77 11 33 1 = 77 12 77 13 18446744073709551615 10 sendOutput 77 14 77 24 34 1 ( 77 24 77 25 34 7 message 77 25 77 32 32 1 , 77 32 77 33 34 8 socketid 77 34 77 42 29 1 ) 77 42 77 43 34 1 ; 77 43 77 44 18446744073709551615 3 int 79 7 79 10 18446744073709551615 6 numtwo 79 11 79 17 43 1 = 79 18 79 19 18446744073709551615 7 readInt 79 20 79 27 42 1 ( 79 27 79 28 42 8 socketid 79 28 79 36 29 1 , 79 36 79 37 42 6 buffer 79 38 79 44 30 1 ) 79 44 79 45 42 1 ; 79 45 79 46 18446744073709551615 4 cout 80 7 80 11 35 2 << 80 12 80 14 38 6 numtwo 80 15 80 21 43 2 << 80 22 80 24 38 4 endl 80 25 80 29 39 1 ; 80 29 80 30 18446744073709551615 7 message 82 7 82 14 32 1 = 82 15 82 16 40 47 "Select math function \n1.+ \n2.- \n3.* \n4./ " 82 17 82 64 18446744073709551615 1 ; 82 64 82 65 18446744073709551615 10 sendOutput 83 7 83 17 34 1 ( 83 17 83 18 34 7 message 83 18 83 25 32 1 , 83 25 83 26 34 8 socketid 83 27 83 35 29 1 ) 83 35 83 36 34 1 ; 83 36 83 37 18446744073709551615 3 int 85 7 85 10 18446744073709551615 4 math 85 11 85 15 44 1 = 85 16 85 17 18446744073709551615 7 readInt 85 18 85 25 42 1 ( 85 25 85 26 42 8 socketid 85 26 85 34 29 1 , 85 34 85 35 42 6 buffer 85 36 85 42 30 1 ) 85 42 85 43 42 1 ; 85 43 85 44 18446744073709551615 4 cout 86 7 86 11 35 2 << 86 12 86 14 38 4 math 86 15 86 19 44 2 << 86 20 86 22 38 4 endl 86 23 86 27 39 1 ; 86 27 86 28 18446744073709551615 5 float 88 7 88 12 18446744073709551615 3 sum 88 13 88 16 45 1 ; 88 16 88 17 18446744073709551615 6 switch 89 7 89 13 18446744073709551615 1 ( 89 14 89 15 18446744073709551615 4 math 89 15 89 19 44 1 ) 89 19 89 20 18446744073709551615 1 { 89 21 89 22 18446744073709551615 4 case 90 7 90 11 18446744073709551615 1 1 90 12 90 13 18446744073709551615 1 : 90 13 90 14 18446744073709551615 3 sum 91 9 91 12 45 1 = 91 13 91 14 18446744073709551615 6 numone 91 15 91 21 41 1 + 91 22 91 23 18446744073709551615 6 numtwo 91 24 91 30 43 1 ; 91 30 91 31 18446744073709551615 5 break 92 9 92 14 18446744073709551615 1 ; 92 14 92 15 18446744073709551615 4 case 93 7 93 11 18446744073709551615 1 2 93 12 93 13 18446744073709551615 1 : 93 13 93 14 18446744073709551615 3 sum 94 9 94 12 45 1 = 94 13 94 14 18446744073709551615 6 numone 94 15 94 21 41 1 - 94 22 94 23 18446744073709551615 6 numtwo 94 24 94 30 43 1 ; 94 30 94 31 18446744073709551615 5 break 95 9 95 14 18446744073709551615 1 ; 95 14 95 15 18446744073709551615 4 case 96 7 96 11 18446744073709551615 1 3 96 12 96 13 18446744073709551615 1 : 96 13 96 14 18446744073709551615 3 sum 97 9 97 12 45 1 = 97 13 97 14 18446744073709551615 6 numone 97 15 97 21 41 1 * 97 22 97 23 18446744073709551615 6 numtwo 97 24 97 30 43 1 ; 97 30 97 31 18446744073709551615 5 break 98 9 98 14 18446744073709551615 1 ; 98 14 98 15 18446744073709551615 4 case 99 7 99 11 18446744073709551615 1 4 99 12 99 13 18446744073709551615 1 : 99 13 99 14 18446744073709551615 3 sum 100 9 100 12 45 1 = 100 13 100 14 18446744073709551615 1 ( 100 15 100 16 18446744073709551615 5 float 100 16 100 21 18446744073709551615 1 ) 100 21 100 22 18446744073709551615 6 numone 100 22 100 28 41 1 / 100 29 100 30 18446744073709551615 1 ( 100 31 100 32 18446744073709551615 5 float 100 32 100 37 18446744073709551615 1 ) 100 37 100 38 18446744073709551615 6 numtwo 100 38 100 44 43 1 ; 100 44 100 45 18446744073709551615 5 break 101 9 101 14 18446744073709551615 1 ; 101 14 101 15 18446744073709551615 1 } 102 7 102 8 18446744073709551615 7 message 104 7 104 14 32 1 = 104 15 104 16 40 9 to_string 104 17 104 26 46 1 ( 104 26 104 27 46 3 sum 104 27 104 30 45 1 ) 104 30 104 31 46 1 ; 104 31 104 32 18446744073709551615 10 sendOutput 105 7 105 17 34 1 ( 105 17 105 18 34 7 message 105 18 105 25 32 1 , 105 25 105 26 34 8 socketid 105 27 105 35 29 1 ) 105 35 105 36 34 1 ; 105 36 105 37 18446744073709551615 11 this_thread 106 7 106 18 47 2 :: 106 18 106 20 48 9 sleep_for 106 20 106 29 48 1 ( 106 29 106 30 48 5 500ms 106 30 106 35 18446744073709551615 1 ) 106 35 106 36 48 1 ; 106 36 106 37 18446744073709551615 1 } 107 5 107 6 18446744073709551615 1 } 108 3 108 4 18446744073709551615 6 string 110 3 110 9 31 9 readInput 110 10 110 19 37 1 ( 110 19 110 20 37 3 int 110 20 110 23 18446744073709551615 13 client_socket 110 24 110 37 49 1 , 110 37 110 38 37 4 char 110 39 110 43 18446744073709551615 1 ( 110 44 110 45 18446744073709551615 1 & 110 45 110 46 18446744073709551615 6 buffer 110 46 110 52 50 1 ) 110 52 110 53 18446744073709551615 1 [ 110 53 110 54 18446744073709551615 4 1024 110 54 110 58 18446744073709551615 1 ] 110 58 110 59 18446744073709551615 1 ) 110 59 110 60 37 1 { 110 61 110 62 18446744073709551615 3 int 111 5 111 8 18446744073709551615 7 readval 111 9 111 16 51 1 ; 111 16 111 17 18446744073709551615 7 readval 112 5 112 12 51 1 = 112 13 112 14 18446744073709551615 4 read 112 15 112 19 52 1 ( 112 19 112 20 52 13 client_socket 112 20 112 33 49 1 , 112 33 112 34 52 6 buffer 112 35 112 41 50 1 , 112 41 112 42 52 4 1024 112 43 112 47 18446744073709551615 1 ) 112 47 112 48 52 1 ; 112 48 112 49 18446744073709551615 6 string 113 5 113 11 31 8 received 113 12 113 20 53 1 = 113 21 113 22 18446744073709551615 2 "" 113 23 113 25 18446744073709551615 1 ; 113 25 113 26 18446744073709551615 3 for 114 5 114 8 18446744073709551615 1 ( 114 9 114 10 18446744073709551615 4 char 114 10 114 14 18446744073709551615 1 a 114 15 114 16 54 1 : 114 17 114 18 18446744073709551615 6 buffer 114 19 114 25 50 1 ) 114 25 114 26 18446744073709551615 1 { 114 27 114 28 18446744073709551615 2 if 115 7 115 9 18446744073709551615 1 ( 115 10 115 11 18446744073709551615 1 a 115 11 115 12 54 2 == 115 13 115 15 18446744073709551615 3 '#' 115 16 115 19 18446744073709551615 1 ) 115 19 115 20 18446744073709551615 1 { 115 21 115 22 18446744073709551615 5 break 116 9 116 14 18446744073709551615 1 ; 116 14 116 15 18446744073709551615 1 } 117 7 117 8 18446744073709551615 8 received 118 7 118 15 53 1 . 118 15 118 16 55 6 append 118 16 118 22 55 1 ( 118 22 118 23 55 1 1 118 23 118 24 18446744073709551615 1 , 118 24 118 25 55 1 a 118 26 118 27 54 1 ) 118 27 118 28 55 1 ; 118 28 118 29 18446744073709551615 1 } 119 5 119 6 18446744073709551615 6 memset 120 5 120 11 56 1 ( 120 11 120 12 56 6 buffer 120 12 120 18 50 1 , 120 18 120 19 56 4 1024 120 20 120 24 18446744073709551615 1 , 120 24 120 25 56 4 '\0' 120 26 120 30 18446744073709551615 1 ) 120 30 120 31 56 1 ; 120 31 120 32 18446744073709551615 6 return 121 5 121 11 18446744073709551615 8 received 121 12 121 20 53 1 ; 121 20 121 21 18446744073709551615 1 } 122 3 122 4 18446744073709551615 3 int 124 3 124 6 18446744073709551615 7 readInt 124 7 124 14 42 1 ( 124 14 124 15 42 3 int 124 15 124 18 18446744073709551615 13 client_socket 124 19 124 32 57 1 , 124 32 124 33 42 4 char 124 34 124 38 18446744073709551615 1 ( 124 39 124 40 18446744073709551615 1 & 124 40 124 41 18446744073709551615 6 buffer 124 41 124 47 58 1 ) 124 47 124 48 18446744073709551615 1 [ 124 48 124 49 18446744073709551615 4 1024 124 49 124 53 18446744073709551615 1 ] 124 53 124 54 18446744073709551615 1 ) 124 54 124 55 42 1 { 124 56 124 57 18446744073709551615 3 int 125 5 125 8 18446744073709551615 7 readval 125 9 125 16 59 1 ; 125 16 125 17 18446744073709551615 7 readval 126 5 126 12 59 1 = 126 13 126 14 18446744073709551615 4 read 126 15 126 19 52 1 ( 126 19 126 20 52 13 client_socket 126 20 126 33 57 1 , 126 33 126 34 52 6 buffer 126 35 126 41 58 1 , 126 41 126 42 52 4 1024 126 43 126 47 18446744073709551615 1 ) 126 47 126 48 52 1 ; 126 48 126 49 18446744073709551615 6 string 127 5 127 11 31 8 received 127 12 127 20 60 1 = 127 21 127 22 18446744073709551615 2 "" 127 23 127 25 18446744073709551615 1 ; 127 25 127 26 18446744073709551615 3 for 128 5 128 8 18446744073709551615 1 ( 128 9 128 10 18446744073709551615 4 char 128 10 128 14 18446744073709551615 1 a 128 15 128 16 61 1 : 128 17 128 18 18446744073709551615 6 buffer 128 19 128 25 58 1 ) 128 25 128 26 18446744073709551615 1 { 128 27 128 28 18446744073709551615 2 if 129 7 129 9 18446744073709551615 1 ( 129 10 129 11 18446744073709551615 1 a 129 11 129 12 61 2 == 129 13 129 15 18446744073709551615 3 '#' 129 16 129 19 18446744073709551615 1 ) 129 19 129 20 18446744073709551615 1 { 129 21 129 22 18446744073709551615 5 break 130 9 130 14 18446744073709551615 1 ; 130 14 130 15 18446744073709551615 1 } 131 7 131 8 18446744073709551615 8 received 132 7 132 15 60 1 . 132 15 132 16 55 6 append 132 16 132 22 55 1 ( 132 22 132 23 55 1 1 132 23 132 24 18446744073709551615 1 , 132 24 132 25 55 1 a 132 26 132 27 61 1 ) 132 27 132 28 55 1 ; 132 28 132 29 18446744073709551615 1 } 133 5 133 6 18446744073709551615 3 try 134 5 134 8 18446744073709551615 1 { 134 9 134 10 18446744073709551615 3 int 135 7 135 10 18446744073709551615 6 numone 135 11 135 17 62 1 = 135 18 135 19 18446744073709551615 4 stoi 135 20 135 24 63 1 ( 135 24 135 25 63 8 received 135 25 135 33 60 1 ) 135 33 135 34 63 1 ; 135 34 135 35 18446744073709551615 6 memset 136 7 136 13 56 1 ( 136 13 136 14 56 6 buffer 136 14 136 20 58 1 , 136 20 136 21 56 4 1024 136 22 136 26 18446744073709551615 1 , 136 26 136 27 56 4 '\0' 136 28 136 32 18446744073709551615 1 ) 136 32 136 33 56 1 ; 136 33 136 34 18446744073709551615 6 return 137 7 137 13 18446744073709551615 6 numone 137 14 137 20 62 1 ; 137 20 137 21 18446744073709551615 1 } 138 5 138 6 18446744073709551615 5 catch 138 7 138 12 18446744073709551615 1 ( 138 13 138 14 18446744073709551615 9 exception 138 14 138 23 64 5 const 138 24 138 29 18446744073709551615 1 & 138 30 138 31 18446744073709551615 1 e 138 31 138 32 65 1 ) 138 32 138 33 18446744073709551615 1 { 138 34 138 35 18446744073709551615 4 cout 139 7 139 11 35 2 << 139 12 139 14 36 1 e 139 15 139 16 65 1 . 139 16 139 17 66 4 what 139 17 139 21 66 1 ( 139 21 139 22 66 1 ) 139 22 139 23 66 2 << 139 24 139 26 38 4 endl 139 27 139 31 39 1 ; 139 31 139 32 18446744073709551615 1 } 140 5 140 6 18446744073709551615 6 memset 141 5 141 11 56 1 ( 141 11 141 12 56 6 buffer 141 12 141 18 58 1 , 141 18 141 19 56 4 1024 141 20 141 24 18446744073709551615 1 , 141 24 141 25 56 4 '\0' 141 26 141 30 18446744073709551615 1 ) 141 30 141 31 56 1 ; 141 31 141 32 18446744073709551615 6 return 142 5 142 11 18446744073709551615 1 - 142 12 142 13 18446744073709551615 1 1 142 13 142 14 18446744073709551615 1 ; 142 14 142 15 18446744073709551615 1 } 143 3 143 4 18446744073709551615 3 int 145 3 145 6 18446744073709551615 10 sendOutput 145 7 145 17 34 1 ( 145 17 145 18 34 6 string 145 18 145 24 31 7 message 145 25 145 32 67 1 , 145 32 145 33 34 3 int 145 34 145 37 18446744073709551615 13 client_socket 145 38 145 51 68 1 ) 145 51 145 52 34 1 { 145 53 145 54 18446744073709551615 7 message 146 5 146 12 67 1 . 146 12 146 13 55 6 append 146 13 146 19 55 1 ( 146 19 146 20 55 1 1 146 20 146 21 18446744073709551615 1 , 146 21 146 22 55 3 '#' 146 23 146 26 18446744073709551615 1 ) 146 26 146 27 55 1 ; 146 27 146 28 18446744073709551615 5 const 147 5 147 10 18446744073709551615 4 char 147 11 147 15 18446744073709551615 1 * 147 16 147 17 18446744073709551615 3 out 147 17 147 20 69 1 = 147 21 147 22 18446744073709551615 7 message 147 23 147 30 67 1 . 147 30 147 31 70 5 c_str 147 31 147 36 70 1 ( 147 36 147 37 70 1 ) 147 37 147 38 70 1 ; 147 38 147 39 18446744073709551615 6 return 148 5 148 11 18446744073709551615 4 send 148 12 148 16 71 1 ( 148 16 148 17 71 13 client_socket 148 17 148 30 68 1 , 148 30 148 31 71 3 out 148 32 148 35 69 1 , 148 35 148 36 71 6 strlen 148 37 148 43 72 1 ( 148 43 148 44 72 3 out 148 44 148 47 69 1 ) 148 47 148 48 72 1 , 148 48 148 49 71 1 0 148 50 148 51 18446744073709551615 1 ) 148 51 148 52 71 1 ; 148 52 148 53 18446744073709551615 1 } 149 3 149 4 18446744073709551615 4 void 151 3 151 7 18446744073709551615 4 stop 151 8 151 12 73 1 ( 151 12 151 13 73 3 int 151 13 151 16 18446744073709551615 13 client_socket 151 17 151 30 74 1 ) 151 30 151 31 73 1 { 151 32 151 33 18446744073709551615 5 close 152 5 152 10 75 1 ( 152 10 152 11 75 13 client_socket 152 11 152 24 74 1 ) 152 24 152 25 75 1 ; 152 25 152 26 18446744073709551615 8 shutdown 153 5 153 13 76 1 ( 153 13 153 14 76 13 server_socket 153 14 153 27 4 1 , 153 27 153 28 76 9 SHUT_RDWR 153 29 153 38 76 1 ) 153 38 153 39 76 1 ; 153 39 153 40 18446744073709551615 1 } 154 3 154 4 18446744073709551615 1 } 155 1 155 2 18446744073709551615 1 ; 155 2 155 3 18446744073709551615 3 int 157 1 157 4 18446744073709551615 4 main 157 5 157 9 77 1 ( 157 9 157 10 77 1 ) 157 10 157 11 77 1 { 157 12 157 13 18446744073709551615 6 Server 158 3 158 9 1 6 server 158 10 158 16 78 1 = 158 17 158 18 18446744073709551615 6 Server 158 19 158 25 1 1 ( 158 25 158 26 1 1 ) 158 26 158 27 1 1 ; 158 27 158 28 18446744073709551615 6 server 159 3 159 9 78 1 . 159 9 159 10 7 5 start 159 10 159 15 7 1 ( 159 15 159 16 7 1 ) 159 16 159 17 7 1 ; 159 17 159 18 18446744073709551615 1 } 160 1 160 2 18446744073709551615 0 0 79 0 0 0 22 0 0 1 13 0 3 std 4 1 13 0 6 Server 2 1 13 0 11 sockaddr_in 6 1 13 0 14 address:Server 6 1 13 0 20 server_socket:Server 6 1 13 0 10 opt:Server 6 1 13 0 14 addrlen:Server 21 1 13 0 12 start:Server 8 1 13 0 6 socket 8 1 13 0 6 perror 8 1 13 0 4 exit 8 1 13 0 10 setsockopt 6 1 13 0 22 sin_family:sockaddr_in 6 1 13 0 20 sin_addr:sockaddr_in 6 1 13 0 14 s_addr:in_addr 6 1 13 0 20 sin_port:sockaddr_in 8 1 13 0 5 htons 8 1 13 0 4 bind 2 1 13 0 8 sockaddr 9 1 13 0 55 42:11:/home/daniesky/CPPprojects/client_server/main.cpp 9 1 13 0 55 43:26:/home/daniesky/CPPprojects/client_server/main.cpp 9 1 13 0 55 44:11:/home/daniesky/CPPprojects/client_server/main.cpp 8 1 13 0 6 listen 8 1 13 0 6 accept 20 1 13 0 9 socklen_t 4 1 13 0 10 thread:std 9 1 13 0 55 56:14:/home/daniesky/CPPprojects/client_server/main.cpp 21 1 13 0 23 handleConnection:Server 21 1 13 0 17 detach:thread:std 10 1 13 0 55 61:29:/home/daniesky/CPPprojects/client_server/main.cpp 9 1 13 0 55 62:10:/home/daniesky/CPPprojects/client_server/main.cpp 20 1 13 0 10 string:std 9 1 13 0 55 64:12:/home/daniesky/CPPprojects/client_server/main.cpp 9 1 13 0 54 65:9:/home/daniesky/CPPprojects/client_server/main.cpp 21 1 13 0 17 sendOutput:Server 9 1 13 0 8 cout:std 8 1 13 0 12 operator:std 21 1 13 0 16 readInput:Server 21 1 13 0 26 operator:basic_ostream:std 8 1 13 0 8 endl:std 21 1 13 0 34 operator=:basic_string:__cxx11:std 9 1 13 0 55 73:11:/home/daniesky/CPPprojects/client_server/main.cpp 21 1 13 0 14 readInt:Server 9 1 13 0 55 79:11:/home/daniesky/CPPprojects/client_server/main.cpp 9 1 13 0 55 85:11:/home/daniesky/CPPprojects/client_server/main.cpp 9 1 13 0 55 88:13:/home/daniesky/CPPprojects/client_server/main.cpp 8 1 13 0 21 to_string:__cxx11:std 22 1 13 0 15 this_thread:std 8 1 13 0 25 sleep_for:this_thread:std 10 1 13 0 56 110:24:/home/daniesky/CPPprojects/client_server/main.cpp 10 1 13 0 56 110:46:/home/daniesky/CPPprojects/client_server/main.cpp 9 1 13 0 55 111:9:/home/daniesky/CPPprojects/client_server/main.cpp 8 1 13 0 4 read 9 1 13 0 56 113:12:/home/daniesky/CPPprojects/client_server/main.cpp 9 1 13 0 56 114:15:/home/daniesky/CPPprojects/client_server/main.cpp 21 1 13 0 31 append:basic_string:__cxx11:std 8 1 13 0 6 memset 10 1 13 0 56 124:19:/home/daniesky/CPPprojects/client_server/main.cpp 10 1 13 0 56 124:41:/home/daniesky/CPPprojects/client_server/main.cpp 9 1 13 0 55 125:9:/home/daniesky/CPPprojects/client_server/main.cpp 9 1 13 0 56 127:12:/home/daniesky/CPPprojects/client_server/main.cpp 9 1 13 0 56 128:15:/home/daniesky/CPPprojects/client_server/main.cpp 9 1 13 0 56 135:11:/home/daniesky/CPPprojects/client_server/main.cpp 8 1 13 0 16 stoi:__cxx11:std 4 1 13 0 13 exception:std 9 1 13 0 56 138:31:/home/daniesky/CPPprojects/client_server/main.cpp 21 1 13 0 18 what:exception:std 10 1 13 0 56 145:25:/home/daniesky/CPPprojects/client_server/main.cpp 10 1 13 0 56 145:38:/home/daniesky/CPPprojects/client_server/main.cpp 9 1 13 0 56 147:17:/home/daniesky/CPPprojects/client_server/main.cpp 21 1 13 0 30 c_str:basic_string:__cxx11:std 8 1 13 0 4 send 8 1 13 0 6 strlen 21 1 13 0 11 stop:Server 10 1 13 0 56 151:17:/home/daniesky/CPPprojects/client_server/main.cpp 8 1 13 0 5 close 8 1 13 0 8 shutdown 8 1 13 0 4 main 9 1 13 0 56 158:10:/home/daniesky/CPPprojects/client_server/main.cpp 0 0 1 0 0 0 49 /home/daniesky/CPPprojects/client_server/main.cpp 1676322787